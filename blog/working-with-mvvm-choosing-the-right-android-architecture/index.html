
<!DOCTYPE html>
<html lang="en-US" class="is-locked">

<!-- Mirrored from www.bornfight.com/blog/working-with-mvvm-choosing-the-right-android-architecture/ by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 06 May 2020 13:21:35 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
<link rel="profile" href="https://gmpg.org/xfn/11">
<link rel="pingback" href="../../xmlrpc.php">
<title>
        Working with MVVM - choosing the right Android architecture | Bornfight    </title>
<link rel="apple-touch-icon" sizes="180x180" href="../../wp-content/themes/bf/static/ui/favicon/apple-touch-icondc0a.png?x22406">
<link rel="icon" type="image/png" sizes="32x32" href="../../wp-content/themes/bf/static/ui/favicon/favicon-32x32dc0a.png?x22406">
<link rel="icon" type="image/png" sizes="16x16" href="../../wp-content/themes/bf/static/ui/favicon/favicon-16x16dc0a.png?x22406">
<link rel="manifest" href="../../wp-content/themes/bf/static/ui/favicon/site.html">
<link rel="mask-icon" href="../../wp-content/themes/bf/static/ui/favicon/safari-pinned-tabdc0a.svg?x22406" color="#5bbad5">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="theme-color" content="#ffffff">


<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','GTM-PV9LGPL');</script>


<meta name="description" content="In the previous blog, we told you why we switched from MVP to MVVM. In this one, we&#039;ll describe the key points and aspects of this architecture." />
<meta name="robots" content="index, follow" />
<meta name="googlebot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" />
<meta name="bingbot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" />
<link rel="canonical" href="index.html" />
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Blog | Working with MVVM - choosing the right Android architecture" />
<meta property="og:description" content="In the previous blog, we told you why we switched from MVP to MVVM. In this one, we&#039;ll describe the key points and aspects of this architecture." />
<meta property="og:url" content="https://www.bornfight.com/blog/working-with-mvvm-choosing-the-right-android-architecture/" />
<meta property="og:site_name" content="Bornfight" />
<meta property="article:publisher" content="https://www.facebook.com/Bornfight.company/" />
<meta property="article:modified_time" content="2020-03-12T15:21:57+00:00" />
<meta property="og:image" content="https://www.bornfight.com/wp-content/uploads/2020/03/bornfight_blog_leopoldovic_mvvm_facebook.jpg" />
<meta property="og:image:width" content="2400" />
<meta property="og:image:height" content="1260" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content="Blog | Working with MVVM - choosing the right Android architecture" />
<meta name="twitter:description" content="In the previous blog, we told you why we switched from MVP to MVVM. In this one, we&#039;ll describe the key points and aspects of this architecture." />
<meta name="twitter:image" content="https://www.bornfight.com/wp-content/uploads/2020/03/bornfight_blog_leopoldovic_mvvm_twitter.jpg" />
<meta name="twitter:creator" content="@Bornfight_" />
<meta name="twitter:site" content="@Bornfight_" />
<script type="application/ld+json" class="yoast-schema-graph">{"@context":"https://schema.org","@graph":[{"@type":"WebSite","@id":"https://www.bornfight.com/#website","url":"https://www.bornfight.com/","name":"Bornfight","description":"Bornfight","potentialAction":[{"@type":"SearchAction","target":"https://www.bornfight.com/?s={search_term_string}","query-input":"required name=search_term_string"}],"inLanguage":"en-US"},{"@type":"ImageObject","@id":"https://www.bornfight.com/blog/working-with-mvvm-choosing-the-right-android-architecture/#primaryimage","inLanguage":"en-US","url":"https://www.bornfight.com/wp-content/uploads/2020/03/bornfight_leopoldovic_blog_mvvm_body01.jpg","width":1920,"height":1080},{"@type":"WebPage","@id":"https://www.bornfight.com/blog/working-with-mvvm-choosing-the-right-android-architecture/#webpage","url":"https://www.bornfight.com/blog/working-with-mvvm-choosing-the-right-android-architecture/","name":"Working with MVVM - choosing the right Android architecture | Bornfight","isPartOf":{"@id":"https://www.bornfight.com/#website"},"primaryImageOfPage":{"@id":"https://www.bornfight.com/blog/working-with-mvvm-choosing-the-right-android-architecture/#primaryimage"},"datePublished":"2020-03-12T15:21:56+00:00","dateModified":"2020-03-12T15:21:57+00:00","description":"In the previous blog, we told you why we switched from MVP to MVVM. In this one, we'll describe the key points and aspects of this architecture.","inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["https://www.bornfight.com/blog/working-with-mvvm-choosing-the-right-android-architecture/"]}]}]}</script>

<link rel='dns-prefetch' href='http://www.google.com/' />
<link rel='dns-prefetch' href='http://s.w.org/' />
<link rel="stylesheet" href="../../wp-content/cache/minify/e59d1dc0a.css?x22406" media="all" />
<script src="../../wp-content/cache/minify/c7035dc0a.js?x22406"></script>
<script type='text/javascript'>
/* <![CDATA[ */
var cf7_dropfiles = {"url_plugin":"https:\/\/www.bornfight.com\/wp-content\/plugins\/contact-form-7-drop-files\/","ajax_url":"https:\/\/www.bornfight.com\/wp-admin\/admin-ajax.php","text_content_limit":"Error: POST Content-Length limit","text_remove":"Remove","text_abort":"Abort","text_maximum":"You can only upload a maximum of"};
/* ]]> */
</script>
<script type='text/javascript' src='../../wp-content/plugins/contact-form-7-drop-files/frontend/js/dropfiles-cf7654d.js?x22406&amp;ver=1588770927'></script>
<link rel='https://api.w.org/' href='../../wp-json/index.html' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="../../xmlrpc0db0.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="../../wp-includes/wlwmanifest.xml" />
<link rel='shortlink' href='../../indexa6bb.html?p=5448' />
<link rel="alternate" type="application/json+oembed" href="../../wp-json/oembed/1.0/embed2030.json?url=https%3A%2F%2Fwww.bornfight.com%2Fblog%2Fworking-with-mvvm-choosing-the-right-android-architecture%2F" />
<link rel="alternate" type="text/xml+oembed" href="../../wp-json/oembed/1.0/embed865a?url=https%3A%2F%2Fwww.bornfight.com%2Fblog%2Fworking-with-mvvm-choosing-the-right-android-architecture%2F&amp;format=xml" />
<style type="text/css">body .buorg {
  background-color: #fff;
  font-family: PlainLight;
}
#buorgul {
    background-color: #0d0d0d !important;
    color: #fff!important;
    text-transform: uppercase;
    font-size: .5rem;
    font-weight: 700 !important;
    font-family: PlainBold;
    padding-left: 1rem !important;
    padding-right: 1rem !important;
    border-radius: 0 !important;
}
#buorgig {
    background-color: #fff !important;
    border: 1px solid #0d0d0d;
    color: #0d0d0d!important;
    text-transform: uppercase;
    font-size: .5rem;
    font-weight: 700 !important;
    font-family: PlainBold;
    padding-left: 1rem !important;
    padding-right: 1rem !important;
    border-radius: 0 !important;
    box-shadow: 0 0 0 !important;
}
.buorg-mainmsg {
    letter-spacing: .2px;
    font-size: .7rem;
    line-height: 1.5;
}
.buorg-moremsg {
    letter-spacing: .2px;
    font-size: .7rem;
    line-height: 1.5;
}
</style></head>
<body data-rsssl=1 class="blog-template-default single single-blog postid-5448 is-desktop">
<script>
    const apiUrl = '../../wp-json/api/v1.json';

    </script>

<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PV9LGPL"
                  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

<div class="c-main-loader js-main-loader" style="background-color: #0d0d0d;">
<div class="c-main-loader__logo js-main-loader-logo">
<span class="js-main-loader-logo">
<img src="../../wp-content/themes/bf/static/ui/bf-logo-lightdc0a.svg?x22406" alt="Bornfight">
</span>
</div>
<div class="c-main-loader__container js-main-loader-container">
<i class="c-main-loader__image js-main-loader-image" style="background-image: url(../../wp-content/uploads/2018/09/01-big_1440x980_acf_cropped.jpg);"></i>
<i class="c-main-loader__image js-main-loader-image" style="background-image: url(../../wp-content/uploads/2018/08/09-big.jpg);"></i>
<i class="c-main-loader__image js-main-loader-image" style="background-image: url(../../wp-content/uploads/2018/08/03-big.jpg);"></i>
<i class="c-main-loader__image js-main-loader-image" style="background-image: url(../../wp-content/uploads/2018/08/04-big.jpg);"></i>
<i class="c-main-loader__image js-main-loader-image" style="background-image: url(../../wp-content/uploads/2018/08/05-big.jpg);"></i>
<i class="c-main-loader__image js-main-loader-image" style="background-image: url(../../wp-content/uploads/2018/08/06-big.jpg);"></i>
<i class="c-main-loader__image js-main-loader-image" style="background-image: url(../../wp-content/uploads/2018/08/07-big.jpg);"></i>
<i class="c-main-loader__image js-main-loader-image" style="background-image: url(../../wp-content/uploads/2018/08/08-big.jpg);"></i>
</div>
<i class="c-main-loader__curtain js-main-loader-curtain"></i>
</div>
<div class="c-page-transitions js-page-transitions"></div>
<div class="c-work-transitions js-work-transition-layer"></div>
<div class="c-cookie-bar js-cookie-bar">
<div class="c-cookie-bar__inner">
<div class="c-cookie-bar__left">
<p class="u-b6">
We use cookies to optimize your user experience. We also share information about your use of our site with our social media, advertising and analytics partners. By continuing to use our site you agree to using cookies in accordance with our <a href="../../privacy-policy/index.html" class="c-link">Privacy Policy</a>. </p>
</div>
<div class="c-cookie-bar__right">
<span class="c-button c-button--primary js-cookie-accept" data-name="bornfight.cookie.acceptance" data-value="1">
<span>
Accept </span>
</span>
</div>
</div>
</div>
<div class="c-navigation js-navigation">
<div class="c-navigation__menu js-menu">
<div class="c-navigation__logo js-navigation-logo">
<a href="../../index.html" class="js-navigation-link" data-item="2">
<img src="../../wp-content/themes/bf/static/ui/bf-logo-darkdc0a.svg?x22406" alt="Bornfight">
</a>
</div>
<div class="c-navigation__menu-left">
<div class="navigation-links-wrapper">
<div class="navigation-links-wrapper__inner">
<ul class="navigation-links navigation-links--top">
<li class="navigation-links__item js-navigation-item">
<a data-item="8" href="../../services/index.html" class="c-button c-button--text c-button--large js-navigation-link">
<span>
What we do </span>
</a>
</li>
<li class="navigation-links__item js-navigation-item">
<a data-item="work" href="../../work/index.html" class="c-button c-button--text c-button--large js-navigation-link">
<span>
Our work </span>
</a>
</li>
<li class="navigation-links__item js-navigation-item">
<a data-item="blog" href="../index.html" class="c-button c-button--text c-button--large js-navigation-link">
<span>
Blog </span>
</a>
</li>
</ul>
<ul class="navigation-links navigation-links--bottom">
<li class="navigation-links__item js-navigation-item">
<a data-item="2" href="../../index.html" class="c-button c-button--text js-navigation-link js-home ">
<span>
Home </span>
</a>
</li>
<li class="navigation-links__item js-navigation-item">
<a data-item="413" href="../../careers/index.html" class="c-button c-button--text js-navigation-link js-careers ">
<span>
Careers </span>
</a>
</li>
<li class="navigation-links__item js-navigation-item">
<a data-item="15" href="../../culture/index.html" class="c-button c-button--text js-navigation-link js-about ">
<span>
About </span>
</a>
</li>
<li class="navigation-links__item js-navigation-item">
<a data-item="resources" href="../../resources/index.html" class="c-button c-button--text js-navigation-link js-resources ">
<span>
Resources </span>
</a>
</li>
<li class="navigation-links__item js-navigation-item">
<a data-item="3833" href="../../newsletter/index.html" class="c-button c-button--text js-navigation-link js-subscribe-to-our-newsletter ">
<span>
Subscribe to our newsletter </span>
</a>
</li>
<li class="navigation-links__item js-navigation-item">
<a data-item="28" href="../../contact/index.html" class="c-button c-button--text js-navigation-link js-start-a-project                                 c-button--icon
                                ">
<span>
Start a project <svg class="icon icon-arrow-right">
<use xlink:href="../../wp-content/themes/bf/static/icomoon/symbol-defsdc0a.svg?x22406#icon-arrow-right"></use>
</svg>
</span>
</a>
</li>
</ul>
</div>
</div>
<ul class="c-contact-info c-contact-info--small">
<li class="c-contact-info__item js-navigation-contact-info">
<span class="u-b6">
t:
</span>
<a class="c-button c-button--text c-button--small" href="tel:+385 1 3333 710">
<span>
+385 1 3333 710 </span>
</a>
</li>
<li class="c-contact-info__item js-navigation-contact-info">
<span class="u-b6">
m:
</span>
<a class="c-button c-button--text c-button--bordered c-button--small" href="mailto:hello@bornfight.com">
<span>hello@bornfight.com</span>
</a>
</li>
</ul>
</div>
<i class="c-menu-bg__cover js-menu-bg-cover"></i>
<div class="c-navigation__menu-right">
<div class="c-menu-bg js-menu-bg">
<div class="c-menu-bg__canvas js-menu-bg-list">
<div class="canvas js-menu-bg-canvas" data-displacement-map="https://www.bornfight.com/wp-content/themes/bf/static/ui/rock.png"></div>
</div>
<ul class="c-menu-bg__list js-menu-bg-list">
<li class="c-menu-bg__item">
<i class="c-menu-bg__image js-menu-bg-image" data-menu-bg="https://www.bornfight.com/wp-content/uploads/2018/08/01.jpg" style="background-image: url(../../wp-content/uploads/2018/08/01.jpg);"></i>
</li>
<li class="c-menu-bg__item">
<i class="c-menu-bg__image js-menu-bg-image" data-menu-bg="https://www.bornfight.com/wp-content/uploads/2018/08/02.jpg" style="background-image: url(../../wp-content/uploads/2018/08/02.jpg);"></i>
</li>
<li class="c-menu-bg__item">
<i class="c-menu-bg__image js-menu-bg-image" data-menu-bg="https://www.bornfight.com/wp-content/uploads/2018/08/03-1.jpg" style="background-image: url(../../wp-content/uploads/2018/08/03-1.jpg);"></i>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id="barba-wrapper">
<div class="barba-container js-init-color" data-menu-item="blog" data-init-color="#0d0d0d" data-namespace="blog-single">
<div class="c-clip-element c-clip-element--logo js-clip-element ">
<div class="c-logo c-logo--navigation js-menu-stage">
<a href="../../index.html" class="js-home js-exit-enter-el" data-item="2">
<i class="bornfight bornfight--dark">
<img src="../../wp-content/themes/bf/static/ui/BF-sign-darkdc0a.svg?x22406" alt="">
</i>
<i class="bornfight bornfight--light">
<img src="../../wp-content/themes/bf/static/ui/BF-sign-lightdc0a.svg?x22406" alt="">
</i>
</a>
</div>
</div>
<div class="c-clip-element c-clip-element--menu-trigger js-clip-element">
<div class="c-menu-trigger js-menu-trigger js-exit-enter-el">
<i class="c-menu-trigger__bar c-menu-trigger__bar--top"></i>
<i class="c-menu-trigger__bar c-menu-trigger__bar--middle"></i>
<i class="c-menu-trigger__bar c-menu-trigger__bar--bottom"></i>
</div>
</div>
<div class="c-clip-element c-clip-element--email js-clip-element">
<div class="c-navigation-email js-menu-stage">
<a class="u-b6 js-exit-enter-el" href="mailto:hello@bornfight.com">hello@bornfight.com</a>
</div>
</div>
<div class="c-secondary-navigation js-clip-element">
<div class="c-secondary-navigation__left">
<ul class="c-secondary-navigation-links">
<li class="c-secondary-navigation-links__item js-menu-stage">
<a href="../index.html" class="c-button c-button--text c-button--bordered c-button--icon c-button--small">
<span>
View all posts </span>
</a>
</li>
</ul>
</div>
<div class="c-secondary-navigation__right js-menu-stage">
<a href="../../contact/index.html" class="c-button c-button--primary js-secondary-nav-cta">
<span>
Start a project </span>
</a>
</div>
</div>
<div class="o-page-wrapper o-page-wrapper--blog-single js-page-wrapper" id="page-wrapper">
<header class="c-header c-header--blog-single u-clearfix">
<div class="o-container">
<h1 class="u-a5 js-animation-stage-title">
Working with MVVM &#8211; choosing the right Android architecture </h1>
<div class="c-details-info c-details-info--has-author-title u-clearfix">
<div class="c-details-info__item u-b6 js-animation-stage-element">
<strong>
Author
</strong>
<span>
Luka Leopoldović </span>
<span>
</span>
</div>
<div class="c-details-info__item u-b6 js-animation-stage-element">
<strong>
Category
</strong>
<span>
Development </span>
</div>
<div class="c-details-info__item u-b6 js-animation-stage-element">
<strong>
Date
</strong>
<span>Mar 12, 2020</span>
 </div>
<span class="c-details-info__reading-time u-b6 js-animation-stage-element">
<span class="span-reading-time rt-reading-time"><span class="rt-label rt-prefix"></span> <span class="rt-time"> 10</span> <span class="rt-label rt-postfix">min read</span></span> </span>
</div>

<div class="c-blog-image js-animation-stage-element">
<figure class="o-media-wrapper o-media-wrapper--16-9">
<picture class="">
<source media="(min-width: 720px)" srcset="" data-srcset="https://www.bornfight.com/wp-content/uploads/2020/03/bornfight_blog_leopoldovic_mvvm_desktop.jpg">
<img class="lazyload" src="#" data-src="https://www.bornfight.com/wp-content/uploads/2020/03/bornfight_blog_leopoldovic_mvvm_mobile.jpg?x22406" alt="">
</picture>
</figure>
<p class="o-media-caption">
</p>
</div>

</div>
</header>
<section class="o-section o-section--blog-single-content u-clearfix">
<div class="o-container">
<div class="c-editor-content">

<h3>In my <a href="../mvp-vs-mvvm-choosing-the-right-android-architecture/index.html" target="_blank" rel="noreferrer noopener" aria-label="previous blog (opens in a new tab)">previous blog</a>, I’ve told you how and why we switched from a well established MVP architecture to the newly created MVVM. As promised, in this episode I’ll tell you a bit more about it, describe its key points and elaborate how it tackles all the cumbers which its predecessor (MVP) occasionally produced.</h3>
<p><strong>Just a reminder:</strong> both of our base projects (MVP, MVVM) can be cloned and <strong>used as a free starting pack</strong>. MVVM skeleton contains a demo project which demonstrates how to use many of our base classes and methods. So feel free to dig in!</p>
<h4>STARTING UP</h4>
<p>As the MVVM structure suggests, every screen we create (assuming there is a business logic) will contain three layers &#8211; the <strong>Model</strong>, the <strong>View</strong> and the <strong>ViewModel</strong>. The hierarchy of the layers is simple &#8211; they are stacked above each other, so each one only cares about the one it’s standing on. Hence, in a basic scenario, each layer (with the exception of the Model) depends only on the layer below it, which makes the code much more testable. </p>
<p><strong>The graph below illustrates the hierarchy and the mutual dependencies of the layers.</strong></p>
<figure class="wp-block-image size-full"><img src="../../wp-content/uploads/2020/03/bornfight_leopoldovic_blog_mvvm_body01dc0a.jpg?x22406" alt="" class="wp-image-5449" srcset="https://www.bornfight.com/wp-content/uploads/2020/03/bornfight_leopoldovic_blog_mvvm_body01.jpg 1920w, https://www.bornfight.com/wp-content/uploads/2020/03/bornfight_leopoldovic_blog_mvvm_body01-300x169.jpg 300w, https://www.bornfight.com/wp-content/uploads/2020/03/bornfight_leopoldovic_blog_mvvm_body01-1024x576.jpg 1024w, https://www.bornfight.com/wp-content/uploads/2020/03/bornfight_leopoldovic_blog_mvvm_body01-768x432.jpg 768w, https://www.bornfight.com/wp-content/uploads/2020/03/bornfight_leopoldovic_blog_mvvm_body01-1536x864.jpg 1536w" sizes="(max-width: 1920px) 100vw, 1920px" /></figure>
<p>When we agreed on the structure, we had to define the frameworks/tools/libraries to construct it. And yes, we had the debates as well &#8211; RxJava vs. Kotlin coroutines, Dagger vs. Koin, etc&#8230; </p>
<p>Long story short &#8211; we could just not waive all of the precious operators <strong>RxJava</strong> gives us, so we decided to stick with it. We picked <strong>Dagger</strong> over Koin due to much better performance, <strong>OkHttp</strong> and <strong>Retrofit</strong> for networking, <strong>Room</strong> for local caching and we used the rest of the <strong>JetPack</strong> components as the glue (LiveData, ViewModel) between the layers.</p>
<p>We started by creating the dependency injection graph. You can find the setup under the <a rel="noreferrer noopener" aria-label="commons → dagger (opens in a new tab)" href="https://gitlab.com/bornfight-mobile/android-public/mvvmtemplate/tree/master/app/src/main/java/com/bornfight/common/dagger" target="_blank">commons → dagger</a> folder of our base project. I won’t hold onto it for long, since it’s a thing which requires the least interaction with while coding. Its main purpose is to provide us with components which can be injected and injected in. Therefore, make sure to contribute a new activity/fragment in binding modules and to provide yourself with a repo or a <strong>ViewModel</strong> in <strong>repo/ViewMode</strong>l modules. </p>
<p>In our architecture, each vital component (a <strong>View/ViewModel/Repo</strong>) extends a base class which sets the foundations up. We decided to start building from the ground floor, so we commenced with the <a rel="noreferrer noopener" aria-label="BaseRepo (opens in a new tab)" href="https://gitlab.com/bornfight-mobile/android-public/mvvmtemplate/blob/master/app/src/main/java/com/bornfight/common/mvvm/BaseRepo.kt" target="_blank">BaseRepo</a> class. It might seem like reverse logic since we have to build for the upper floor(s) in advance, but it really helped us to shape the propagation of data which a <strong>ViewModel</strong> will eventually expose to its observers.</p>
<p><strong>Let me just quickly remind you about the requirements (more about them in the previous <a rel="noreferrer noopener" aria-label="blog (opens in a new tab)" href="../mvp-vs-mvvm-choosing-the-right-android-architecture/index.html" target="_blank">blog</a>) we kept up to while creating the new skeleton:</strong></p>
<ul><li>we want to reduce boilerplate to a minimum (e.g. RxJava calls etc.)</li><li>we want a set of default actions to be present under the hood (e.g. default loader or displaying error messages, default schedulers etc.), but again, those actions must be easily overridable if necessary</li><li>the code must be generic enough to fit all the cases we might encounter, and easily adaptable if there is a case which is not directly supported by the foundations</li></ul>
<p>BaseRepo’s tasks include fetching data and firing API/database requests. For now, we created generic methods to make the calls and cut the boilerplate off regarding the Observables and the Completables. However, we will expand this in the near future to cover all the Rx return types. For now, we are happy with this since 99% of the requests we make return either an Observable (Single) or Completable. </p>
<p><strong>In general, there are three cases which must be covered in order to fully close the circle:</strong></p>
<ul><li>A method which fires a request to either database or API (oneSideCall) and returns data</li><li>A method which fires a request to both database and API (twoSideCall) and returns data</li><li>A method which doesn’t return any data</li></ul>
<p>Those methods, most certainly, must also provide us with some extra actions, in case we want to save the data returned by the call, or to perform certain actions in case the call fails. </p>
<p><strong>For instance, take a look at our oneSideCall:</strong></p>
<pre class="wp-block-preformatted">/**
 * Wraps the fetched data with Observable&lt;[ResourceState]> for appropriate ViewModel provision.
 *
 * When fetching the data from an API, provide a @param saveCallData to store the fetched data
 * locally (optionally). Otherwise, use just @param call.
 *
 * Optionally, provide a @param performOnError definition if you would like to perform certain actions
 * in case and when the @param call fails (e.g. provide local data only in case the remote call fails).
 */
fun &lt;T> oneSideCall(
    call: () -> Observable&lt;T>,
    saveCallData: ((data: T) -> Unit)? = null,
    performOnError: () -> Observable&lt;T> = { Observable.empty() }
): Observable&lt;ResourceState&lt;T>> {
    return call()
        .map { ResourceState.success(it) }
        .doAfterNext {
            if (saveCallData != null) {
                it.data?.let { newData -> saveCallData(newData) }
            }
        }
        .onErrorResumeNext { error: Throwable ->
            Observable.mergeDelayError(
                performOnError()
                    .map { ResourceState.success(it) }
                    .onErrorResumeNext { subError: Throwable ->
                        Observable.just(
                            ResourceState.error(
                                handleError(subError),
                                null
                            )
                        )
                    },
                Observable.just(
                    ResourceState.error(
                        handleError(error),
                        null
                    )
                )
            )
        }
} </pre>
<p>You are free to pass it any call which returns an Observable&lt;T>, so map it, flatMap it or do whatever you want while passing it as an argument, but leave the boilerplate to the BaseRepo. In case that was an API call whose data must be saved, pass a database method as the <strong>saveCallData</strong> argument. In case you want to load the database data only when the remote call fails, pass a <strong>performOnError</strong> definition. Pretty handy, right? </p>
<p><strong>Let’s take a look on how fetching the current weather for a city would look like using the oneSideCall:</strong></p>
<pre class="wp-block-preformatted">override fun getCurrentWeatherForCity(cityName: String): Observable> {
    return oneSideCall(
        call = { api.getWeatherForCity(cityName) },
        saveCallData = { database.weatherDao().saveWeatherData(it) },
        performOnError = { database.weatherDao().getWeatherData(cityName) }
    )
}</pre>
<p>That’s pretty neat! Now, you may have noticed that each of these <strong>BaseRepo</strong> methods wraps the result with a <a rel="noreferrer noopener" aria-label="ResourceState (opens in a new tab)" href="https://gitlab.com/bornfight-mobile/android-public/mvvmtemplate/blob/master/app/src/main/java/com/bornfight/common/mvvm/basemodels/ResourceState.kt" target="_blank">ResourceState</a>. This is our custom wrapper class which classifies the data fetching state as either Success, Loading or Error.</p>
<pre class="wp-block-preformatted">/**
 * Created by lleopoldovic on 23/09/2019.
 *
 *
 * Base class to wrap each database/api provision with.
 *
 * Status values are used by view (activity/fragment) to indicate the fetch status of a request,
 * where ResourceState is commonly wrapped with a MutableLiveData property of a ViewModel.
 */ 

data class ResourceState&lt;out T> (val status: Status, val data: T?, val error: BaseError?) {
    companion object {
        fun &lt;T> loading(data: T? = null): ResourceState&lt;T> {
            return ResourceState(Status.LOADING, data, null)
        }
        fun &lt;T> success(data: T?): ResourceState&lt;T> {
            return ResourceState(Status.SUCCESS, data, null)
        }
        fun &lt;T> error(baseError: BaseError, data: T? = null): ResourceState&lt;T> {
             return ResourceState(Status.ERROR, data, baseError)
        }
}</pre>
<pre class="wp-block-preformatted">/**
 * Created by lleopoldovic on 23/09/2019.
 *
 *
 * Status of a resource that is provided to the view (activity/fragment).
 */ 
enum class Status {
    SUCCESS,
    ERROR,
    LOADING
}</pre>
<p>That’s because we want to provide our users with proper feedback regarding the request state. Since our in-house backend team often creates custom messages for different types of errors which might occur, we want to present our users with the custom error message as well. This is another benefit of our BaseRepo methods. They will wrap every return data with proper ResourceState definition. Introduction of such a wrapper class can be expensive since it can easily tangle the whole data journey from a repo to a View. Therefore, we made sure to keep it under the hood and expose it to developers in the minimum of cases. Our BaseRepo methods will also handle any errors which might occur during the request. For easier propagation of the error information to other layers of the application, we created a BaseError class which holds all the error info together. </p>
<pre class="wp-block-preformatted">/**
 * Created by lleopoldovic on 25/10/2019.
 */ 

data class BaseError(
    val errorMessage: String = baseErrorMessage,
    val errorCode: Int = ResponseCodes.UNDEFINED.code,
    val validationErrors: ApiInterface.ValidationErrors = ApiInterface.ValidationErrors()
) {
    companion object {
        var baseErrorMessage: String = "Some error occurred.\nPlease try later."
        var localErrorMessage: String = "Local error occurred."
        var networkErrorMessage: String = "Network error, check your internet connection."
        var emptyErrorBodyMessage: String = "{\"message\":\"Empty error body\"}"
    }
}</pre>
<p>If a validation error occurred and we want to specially mark an input field which relates to it (e.g. wrong e-mail), we can easily do that. If an authorization error occurs and we have to logout the user, we can easily pass an error code related to the error and, among other things, bring the user to the login screen, etc.</p>
<p><strong>To sum the BaseRepo up:</strong></p>
<ul><li>Boilerplate reduced &#8211; CHECK </li><li>A set of actions present under the hood &#8211; CHECK</li><li>Generic and easily adaptable code &#8211; CHECK</li></ul>
<h4>LET’S GET THAT DATA</h4>
<p>The middle man of this data delivery service is a ViewModel. Its responsibility is to request a data set from the Model (repo), parse it if necessary and expose it to whomever needs to observe it. The <a href="https://gitlab.com/bornfight-mobile/android-public/mvvmtemplate/blob/master/app/src/main/java/com/bornfight/common/mvvm/BaseViewModel.kt" target="_blank" rel="noreferrer noopener" aria-label="BaseViewModel (opens in a new tab)">BaseViewModel</a> class is much simpler than the <a href="https://gitlab.com/bornfight-mobile/android-public/mvvmtemplate/blob/master/app/src/main/java/com/bornfight/common/mvvm/BaseRepo.kt" target="_blank" rel="noreferrer noopener" aria-label="BaseRepo (opens in a new tab)">BaseRepo</a> class since it extends the ViewModel class which deals with most of the tricky stuff for us. Hence, we used it to auto-clear the CompositeDisposable and to truncate the boilerplate. Again, we have a couple of generic methods present under the hood. </p>
<p><strong>For instance, let’s take a look at the observableCall method:</strong></p>
<pre class="wp-block-preformatted">/**
 * Used for creating observable calls to remove RxJava boilerplate.
 *
 * On the other hand, if a custom action is required while doOnSubscribe and subscribe are
 * triggered, your are free to override the action. In that case, be sure to update your
 * liveData values manually.
 */
fun &lt;T> observableCall(
    liveData: MutableLiveData&lt;ResourceState&lt;T>>,
    call: () -> Observable&lt;ResourceState&lt;T>>,
    doOnSubscribe: ((disposable: Disposable) -> Unit)? = null,
    subscribe: ((data: ResourceState&lt;T>) -> Unit)? = null,
    scheduler: Scheduler = schedulers.io()
) {
    @Suppress("unused")
    call()
        .subscribeOn(scheduler)
        .observeOn(schedulers.ui())
        .doOnSubscribe {
            compositeDisposable.add(it)
            if (doOnSubscribe != null) {
                doOnSubscribe(it)
            } else {
                liveData.value = ResourceState.loading()
            }
        }
        .subscribe {
            if (subscribe != null) {
                subscribe(it)
            } else {
                liveData.postValue(it)
            }
        }
} </pre>
<p>The method updates the liveData values automatically, but you are free to more than easily override those actions if a custom work is required. </p>
<p><strong>A call for getting the current weather now looks like this:</strong></p>
<pre class="wp-block-preformatted">fun getCurrentWeatherData(city: String) {
    observableCall(
        liveData = _weatherData,
        call = { repo.getCurrentWeatherForCity(city) }
    )
}</pre>
<p>Pretty clean and readable, right? We used RxJava and Observables to pass the information from a repo to a ViewModel, and now we’ll use LiveData to expose it to observers. Notice that if you open an Rx stream to an Observable Room query, it will never complete, so we are able to constantly listen for the Model updates, and that’s <strong>the reason behind the merge operator implementation</strong> of the BaseRepo methods!</p>
<p>In case the data has to be parsed, we created a map extension which enables you to map the data wrapped with the ResourceState without worrying about the wrapper class itself. Do what you have to do with the data, and we’ll make sure to unwrap it and wrap it back up to ResourceState for you.</p>
<pre class="wp-block-preformatted">fun &lt;T, R> Observable&lt;ResourceState&lt;T>>.mapData(customMap: (item: T) -> R): Observable&lt;ResourceState&lt;R>> {
    return this.map { rs ->
        rs.data?.let { data ->
            ResourceState(
                rs.status,
                customMap(data),
                rs.error
            )
        } ?: ResourceState(rs.status, null, rs.error)
    }
}</pre>
<p><strong>Let’s recap:</strong></p>
<ul><li>Boilerplate reduced &#8211; CHECK</li><li>A set of easily overridable default actions present under the hood &#8211; CHECK</li><li>Generic and easily adaptable code &#8211; CHECK</li></ul>
<h4>CAN I FINALLY SEE IT</h4>
<p>Yep. We’ve come to the top. There’s the View. Get it? 🙂 </p>
<p>Before getting into observing the LiveData values from a ViewModel, I’ll quickly mention the <a rel="noreferrer noopener" aria-label="BaseView (opens in a new tab)" href="https://gitlab.com/bornfight-mobile/android-public/mvvmtemplate/blob/master/app/src/main/java/com/bornfight/common/mvvm/BaseView.kt" target="_blank">BaseView</a> interface. It provides us with a set of base methods each Activity/Fragment will implement. That gives us a bit of flexibility for the actions that follow. Each Activity/Fragment should extend the <a rel="noreferrer noopener" aria-label="BaseActivity (opens in a new tab)" href="https://gitlab.com/bornfight-mobile/android-public/mvvmtemplate/blob/master/app/src/main/java/com/bornfight/common/mvvm/BaseActivity.kt" target="_blank">BaseActivity</a>/<a rel="noreferrer noopener" aria-label="BaseFragment (opens in a new tab)" href="https://gitlab.com/bornfight-mobile/android-public/mvvmtemplate/blob/master/app/src/main/java/com/bornfight/common/mvvm/BaseFragment.kt" target="_blank">BaseFragment</a> class which deals with the mandatory dependency injection for you and makes sure you have access to the BaseView methods. And now comes the best part. It would be a hassle if we’d have to manually take care of displaying loading/error states of requests, even if they should be displayed with their default UI actions. So as the cherry on top, we created a custom observer for the ResourceState values wrapped with LiveData.</p>
<pre class="wp-block-preformatted">/**
 * Created by lleopoldovic on 02/10/2019.
 */ 
class ResourceStateObserver&lt;T>(
    private val view: BaseView,
    private val onSuccess: (data: T?) -> Unit,
    private val onLoading: (isLoading: Boolean) -> Unit = DEFAULT_LOADING_ACTION,
    private val onError: (baseError: BaseError) -> Unit = DEFAULT_ERROR_ACTION
) : Observer&lt;ResourceState&lt;T>> {

    companion object {
        private val DEFAULT_ERROR_ACTION: (baseError: BaseError) -> Unit = {}
        private val DEFAULT_LOADING_ACTION: (isLoading: Boolean) -> Unit = {}
    }
    override fun onChanged(t: ResourceState&lt;T>?) {
        // Loading state handler:
        onLoadingActionCheck(onLoading, isLoading = t?.status == Status.LOADING)

        // Error/success state handler:
        if (t?.status == Status.ERROR) {
            onErrorActionCheck(onError, baseError = t.error ?: BaseError(errorMessage = BaseError.baseErrorMessage))
            // If a response code needs to be handled specifically, add the new case here
            when (t.error?.errorCode) {
                ResponseCodes.UNAUTHORIZED.code -> view.onLogout()
            }
        } else if (t?.status == Status.SUCCESS) {
            onSuccess(t.data)
        }
    }
    private fun onLoadingActionCheck(
        onLoadingAction: (isLoading: Boolean) -> Unit = DEFAULT_LOADING_ACTION,
        isLoading: Boolean
    ) {
        if (onLoadingAction === DEFAULT_LOADING_ACTION) {
            // A lambda is NOT defined - use the default value
            view.showProgressCircle(isLoading)
        } else {
            // A lambda is defined - no default value used
            onLoading(isLoading)
        }
    }
    private fun onErrorActionCheck(
        onErrorAction: (baseError: BaseError) -> Unit = DEFAULT_ERROR_ACTION,
        baseError: BaseError
    ) {
        if (onErrorAction === DEFAULT_ERROR_ACTION) {
            // A lambda is NOT defined - use the default value
            view.showError(baseError.errorMessage)
        } else {
            // A lambda is defined - no default value used
            onError(baseError)
        }
    }
}</pre>
<p>All it requires is the BaseView and a success action. In case you haven’t provided a custom loading/error action, the default ones will be executed. On the other hand, if you do want to provide them, it’s super-easy to do it! </p>
<p><strong>So, binding UI with the fetched values and simultaneously taking care of displaying error/loading states has never been quicker:</strong></p>
<pre class="wp-block-preformatted">viewModel.weatherData.observe(viewLifecycleOwner, ResourceStateObserver(this, 
    onSuccess = { /* Populate UI */ }
))</pre>
<p>In case an extra action is required to display an error or a loading state, help yourselves to one of our many lambdas. 🙂</p>
<pre class="wp-block-preformatted">viewModel.weatherData.observe(viewLifecycleOwner, ResourceStateObserver(this,
    onSuccess = { /* Populate UI <em>/ },     </em>
    <em>onLoading = { /</em>Custom loading action<em>/ },     </em>
    <em>onError   = { /</em>Custom error action*/ }
))</pre>
<p><strong>Again, let’s check our list:</strong></p>
<ul><li>Boilerplate reduced &#8211; CHECK</li><li>A set of easily overridable default actions present under the hood &#8211; CHECK</li><li>Generic and easily adaptable code &#8211; CHECK</li></ul>
<h4>PAGINATION</h4>
<p>Since 95% of pagination we create (and we do it quite often) is page-keyed pagination, we decided to create a generic page-keyed paginator. You can find the code under <a rel="noreferrer noopener" aria-label="common → mvvm → pagination (opens in a new tab)" href="https://gitlab.com/bornfight-mobile/android-public/mvvmtemplate/-/tree/master/app/src/main/java/com/bornfight/common/mvvm/pagination" target="_blank">common → mvvm → pagination</a>. It is the JetPack PagingLibrary in a generic form to minimise the effort of establishing one, and maximize the results we can gain from it. </p>
<p><strong>The setup consist out of three generic classes:</strong></p>
<ul><li>GenericPaginationDataSource</li><li>GenericPaginationDataSourceFactory</li><li>GenericPaginationParams</li></ul>
<p>If you do plan to use those, make sure to extend the <a rel="noreferrer noopener" aria-label="BasePaginationViewModel (opens in a new tab)" href="https://gitlab.com/bornfight-mobile/android-public/mvvmtemplate/-/blob/master/app/src/main/java/com/bornfight/common/mvvm/pagination/BasePaginationViewModel.kt" target="_blank">BasePaginationViewModel</a> instead of the <a rel="noreferrer noopener" aria-label="BaseViewModel (opens in a new tab)" href="https://gitlab.com/bornfight-mobile/android-public/mvvmtemplate/blob/master/app/src/main/java/com/bornfight/common/mvvm/BaseViewModel.kt" target="_blank">BaseViewModel</a>, since it will provide you with additional methods for setting the paginator up, and it will wrap the return type of the paginator with the ResourceState. Since there is no paginated data available with the weather API, we integrated a news API to test it out. 🙂 </p>
<p><strong>This is all the code necessary to create a paginated news fetch:</strong></p>
<pre class="wp-block-preformatted">class NewsViewModel @Inject constructor(
    schedulers: SchedulerProvider,
    private val newsRepo: NewsRepo
) : BasePaginationViewModel(schedulers) {

    // Lateinits
    private lateinit var newsDataSourceFactory: GenericPaginationDataSourceFactory&lt;News, NewsPaginationParams>

    // LiveDatas
    lateinit var newsList: LiveData&lt;ResourceState&lt;PagedList&lt;News>>>

    // Other
    private var paginationParams: NewsPaginationParams = NewsPaginationParams("").apply {
        pageNumber = 1
        loadBefore = false
    }
    init {
        newsDataSourceFactory = generatePaginationDataSourceFactory(
            paginationParams = paginationParams,
            call = { newsRepo.getNewss(it as NewsPaginationParams) }
        )
        val newsPagedListConfig = generateDefaultPaginationConfig(
            paginationParams = paginationParams
        )
        newsList = buildLivePagedListWithState(newsDataSourceFactory, newsPagedListConfig)
    }
    fun search(query: String) {
        newsDataSourceFactory.reInit(paginationParams.apply {
            this.query = query; this.pageNumber = 1
        })
    }
}</pre>
<pre class="wp-block-preformatted">data class NewsPaginationParams(
    var query: String
): GenericPaginationParams()</pre>
<pre class="wp-block-preformatted">viewModel.newsList.observe(viewLifecycleOwner, ResourceStateObserver(this,
    onSuccess = { it?.let { data -> newsListAdapter.submitList(data) } }
))</pre>
<h4>CONCLUSION</h4>
<p>There are plenty of other things involved with this base project, like the <a rel="noreferrer noopener" aria-label="MyFirebaseMessagingService (opens in a new tab)" href="https://gitlab.com/bornfight-mobile/android-public/mvvmtemplate/blob/master/app/src/main/java/com/bornfight/common/firebase/MyFirebaseMessagingService.kt" target="_blank">MyFirebaseMessagingService</a>, <a rel="noreferrer noopener" aria-label="NotificationChannelsHelper (opens in a new tab)" href="https://gitlab.com/bornfight-mobile/android-public/mvvmtemplate/blob/master/app/src/main/java/com/bornfight/common/firebase/NotificationChannelsHelper.kt" target="_blank">NotificationChannelsHelper</a> etc. which I haven’t mentioned, and which do play an important role in everyday coding. We might cover those in another blog. Until then, feel free to explore the rest of the setup and the rest of the helper classes and methods as well. We also have a bonus dependency implemented &#8211; the <a rel="noreferrer noopener" aria-label="Bornfight Android Utils (opens in a new tab)" href="https://github.com/bornfight/AndroidUtils" target="_blank">Bornfight Android Utils</a> which are giving us an even better boost: </p>
<ul><li>GenericAdapter (recycler view)</li><li>GenericArrayAdapter</li><li>TextViewUtils</li></ul>
<p><strong>Combined with our new architecture, they create a real powerhouse. 🙂</strong></p>
<p>Now that we’ve introduced you to our new setup, feel free to give it a shot and tell us what you think about it! In time, it will certainly experience some makeovers, extra polishing and fine-tuning, but even now it amps us up by giving us additional boost right from the start.</p>
<p>_____<br><strong>We’re available for partnerships and open for new projects. <br><a rel="noreferrer noopener" href="../../contact/index.html" target="_blank">If you have an idea you’d like to discuss, share it with our team!</a></strong></p>
</div>
</div>
</section>
<script>
        let blogNewsletterForm = '3213';
    </script>
<section class="o-section o-section--blog-single-newsletter u-clearfix">
<div class="o-container">
<div class="c-blog-newsletter">
<div class="c-blog-newsletter__form-wrapper">
<p class="u-a2 c-blog-newsletter__title">
Subscribe to our newsletter </p>
<div class="u-b0 c-blog-newsletter__content">
<p>Subscribe now and get our top news once a month.</p>
<p>100% development, design & strategy.</p>
<p>100% spam-free.</p>
</div>
<div class="c-blog-newsletter__form js-form" data-form-id="11">
<div role="form" class="wpcf7" id="wpcf7-f3213-p5448-o1" lang="en-US" dir="ltr">
<div class="screen-reader-response"></div>
<form action="https://www.bornfight.com/blog/working-with-mvvm-choosing-the-right-android-architecture/#wpcf7-f3213-p5448-o1" method="post" class="wpcf7-form mailchimp-ext-0.5.18" novalidate="novalidate">
<div style="display: none;">
<input type="hidden" name="_wpcf7" value="3213" />
<input type="hidden" name="_wpcf7_version" value="5.1.7" />
<input type="hidden" name="_wpcf7_locale" value="en_US" />
<input type="hidden" name="_wpcf7_unit_tag" value="wpcf7-f3213-p5448-o1" />
<input type="hidden" name="_wpcf7_container_post" value="5448" />
<input type="hidden" name="g-recaptcha-response" value="" />
</div>
<div class="c-form">
<div class="c-form__row c-form__row--input">
<span class="c-fieldset js-form-fieldset wpcf7-form-control-wrap your-email">
<div class="c-fieldset__field-wrapper">
<label for="your-email" class="c-label">
Enter your email address </label>
<input id="your-email" name="your-email" class="c-input js-form-input wpcf7-form-control wpcf7-email wpcf7-text wpcf7-validates-as-required wpcf7-validates-as-email" type="email" value="">
</div>
</span>
<button type="submit" class="c-button c-button--block c-button--secondary wpcf7-submit">
<span>Subscribe</span>
</button>
</div>
<div class="c-form__row">
<span class="c-fieldset wpcf7-form-control-wrap agree-pp">
<div class="c-checkbox">
<input type="checkbox" class="wpcf7-form-control c-checkbox__input js-form-agree-checkbox" id="agree-pp" name="agree-pp" />
<label class="c-checkbox__label" for="agree-pp">
I agree to the Terms of Service and Privacy Policy </label>
</div>
</span>
</div>
<div class="c-form__row">
<span class="c-fieldset wpcf7-form-control-wrap agree-newsletter">
<div class="c-checkbox">
<input type="checkbox" class="wpcf7-form-control c-checkbox__input js-form-agree-checkbox" id="agree-newsletter" name="agree-newsletter" />
<label class="c-checkbox__label" for="agree-newsletter">
I want to receive Bornfight newsletters on this e-mail </label>
</div>
</span>
</div>
</div><div class="wpcf7-response-output wpcf7-display-none"></div><p style="display: none !important"><span class="wpcf7-form-control-wrap referer-page"><input type="hidden" name="referer-page" value="https://www.bornfight.com/blog/page/2/" class="wpcf7-form-control wpcf7-text referer-page" aria-invalid="false"></span></p>
<input type="hidden" value="0" id="cf7-droptype"></form></div> </div>
</div>
<div class="c-blog-newsletter__thank-you js-form-thank-you">
<p class="u-a2">
You're now a part of our club! </p>
<p class="u-b0">
We got your e-mail address and you'll get our next newsletter! </p>
</div>
</div>
</div>
</section>
<section class="o-section o-section--related-content u-clearfix">
<div class="o-container">
<div class="c-related-content">
<div class="c-related-content__top">
<h3 class="u-a6" data-animation-set='{"opacity":"0", "y":"50%", "skewY":"-1.5deg"}' data-animation='{"opacity":"1", "y":"0%", "skewY":"0deg", "ease":"Expo.easeOut"}' data-animation-duration="1.2" data-animation-trigger="0.85">
Related posts </h3>
<div class="c-related-content__link-wrapper" data-animation-set='{"opacity":"0", "y":"50%", "skewY":"-2.5deg"}' data-animation='{"opacity":"1", "y":"0%", "skewY":"0deg", "delay":"0.1", "ease":"Expo.easeOut"}' data-animation-duration="1.2" data-animation-trigger="0.85">
<a href="../index.html" class="c-button c-button--text c-button--bordered">
<span>
Read more posts </span>
</a>
</div>
</div>
<div class="c-related-content__bottom">
<div class="c-article-list c-article-list--2">

<a href="../mvp-vs-mvvm-choosing-the-right-android-architecture/index.html" class="c-article js-post-item">
<div class="c-article__image">
<figure class="o-media-wrapper o-media-wrapper--4-3 js-image-wrapper" data-animation-delay="0">
<i class="o-media-wrapper__mask js-image-mask"></i>
<picture class="">
<img class="js-image" src="../../wp-content/uploads/2020/02/bornfight_blog_leopoldovic_mvpmvvm_featureddc0a.jpg?x22406" alt="">
</picture>
</figure>
</div>
<div class="c-article__caption">
<div class="caption">
<div class="caption__header u-b6">
<span class="caption__category">Development</span>
<span class="caption__date">Feb 13, 2020</span>
</div>
<div class="caption__content">
<h4 class="u-a1">
MVP vs MVVM &#8211; choosing the right Android architecture </h4>
</div>
</div>
</div>
</a>


<a href="../bringing-the-mobile-community-closer-through-apps-pizza/index.html" class="c-article js-post-item">
<div class="c-article__image">
<figure class="o-media-wrapper o-media-wrapper--4-3 js-image-wrapper" data-animation-delay="0.2">
<i class="o-media-wrapper__mask js-image-mask"></i>
<picture class="">
<img class="js-image" src="../../wp-content/uploads/2019/09/bornfight_blog_smrecki_appspizza_featured_480x320_acf_croppeddc0a.jpg?x22406" alt="">
</picture>
</figure>
</div>
<div class="c-article__caption">
<div class="caption">
<div class="caption__header u-b6">
<span class="caption__category">Company</span>
<span class="caption__date">Sep 27, 2019</span>
</div>
<div class="caption__content">
<h4 class="u-a1">
Bringing the mobile community closer through Apps &#038; Pizza </h4>
</div>
</div>
</div>
</a>
 </div>
</div>
</div>
</div>
</section>
<div class="c-footer-wrapper js-footer" data-navigation-color="is-white">
<footer class="c-footer c-footer--top u-clearfix">
<div class="o-container">
<div class="c-footer__top">

<div class="footer-column footer-column--left">
<div class="c-footer__page js-footer-page">
<a href="../../work/index.html" class="c-footer__page-bg js-footer-page-cta">
<i class="js-footer-page-bg" style="background-image: url(../../wp-content/uploads/2018/09/pvt-header_800x480_acf_cropped.jpg)"></i>
</a>
<h4 class="u-a1" data-animation-set='{"opacity":"0", "y":"50%", "skewY":"-2.5deg"}' data-animation='{"opacity":"1", "y":"0%", "skewY":"0deg", "ease":"Expo.easeOut"}' data-animation-duration="1.2" data-animation-trigger="0.85">
Work </h4>
<p class="u-b4" data-animation-set='{"opacity":"0", "y":"50%", "skewY":"-2.5deg"}' data-animation='{"opacity":"1", "y":"0%", "skewY":"0deg", "ease":"Expo.easeOut"}' data-animation-duration="1.2" data-animation-trigger="0.85">
Take a look at what we've created and get inspired </p>
<div class="u-no-events" data-animation-set='{"opacity":"0", "y":"50%", "skewY":"-2.5deg"}' data-animation='{"opacity":"1", "y":"0%", "skewY":"0deg", "ease":"Expo.easeOut"}' data-animation-duration="1.2" data-animation-trigger="0.85">
<span class="c-button c-button--text c-button--small c-button--bordered js-footer-page-cta">
<span>View Work </span>
</span>
</div>
</div>
</div>

<div class="footer-column footer-column--right">

<div class="c-footer__page js-footer-page">
<a href="../../services/index.html" class="c-footer__page-bg js-footer-page-cta">
<i class="js-footer-page-bg" style="background-image: url(../../wp-content/uploads/2018/09/culture-full-1_800x480_acf_cropped.jpg)"></i>
</a>
<h4 class="u-a1" data-animation-set='{"opacity":"0", "y":"50%", "skewY":"-2.5deg"}' data-animation='{"opacity":"1", "y":"0%", "skewY":"0deg", "ease":"Expo.easeOut"}' data-animation-duration="1.2" data-animation-trigger="0.85">
Services </h4>
<p class="u-b4" data-animation-set='{"opacity":"0", "y":"50%", "skewY":"-2.5deg"}' data-animation='{"opacity":"1", "y":"0%", "skewY":"0deg", "ease":"Expo.easeOut"}' data-animation-duration="1.2" data-animation-trigger="0.85">
See what we do and learn more about working together </p>
<div class="u-no-events" data-animation-set='{"opacity":"0", "y":"50%", "skewY":"-2.5deg"}' data-animation='{"opacity":"1", "y":"0%", "skewY":"0deg", "ease":"Expo.easeOut"}' data-animation-duration="1.2" data-animation-trigger="0.85">
<span class="c-button c-button--text c-button--small c-button--bordered">
<span>View Services </span>
</span>
</div>
</div>
</div>

</div>
</div>
</footer>
<footer class="c-footer c-footer--bottom u-clearfix">
<div class="o-container">
<div class="c-footer__bottom">
<div class="footer-column footer-column--left">
<ul class="c-footer-links u-clearfix" data-animation-set='{"opacity":"0", "y":"50%", "skewY":"-2.5deg"}' data-animation='{"opacity":"1", "y":"0%", "skewY":"0deg", "ease":"Expo.easeOut"}' data-animation-duration="1.2" data-animation-trigger="0.85">
<li class="c-footer-links__item">
<a href="../../index.html" class="c-button c-button--text c-button--small c-button--bordered">
<span>
Home </span>
</a>
</li>
<li class="c-footer-links__item">
<a href="../../services/index.html" class="c-button c-button--text c-button--small c-button--bordered">
<span>
What we do </span>
</a>
</li>
<li class="c-footer-links__item">
<a href="../../culture/index.html" class="c-button c-button--text c-button--small c-button--bordered">
<span>
About </span>
</a>
</li>
<li class="c-footer-links__item">
<a href="../index.html" class="c-button c-button--text c-button--small c-button--bordered">
<span>
Blog </span>
</a>
</li>
<li class="c-footer-links__item">
<a href="../../careers/index.html" class="c-button c-button--text c-button--small c-button--bordered">
<span>
Careers </span>
</a>
</li>
<li class="c-footer-links__item">
<a href="../../work/index.html" class="c-button c-button--text c-button--small c-button--bordered">
<span>
Our work </span>
</a>
</li>
<li class="c-footer-links__item">
<a href="../../contact/index.html" class="c-button c-button--text c-button--small c-button--bordered">
<span>
Contact </span>
</a>
</li>
<li class="c-footer-links__item">
<a href="../../legal/index.html" class="c-button c-button--text c-button--small c-button--bordered">
<span>
Legal information </span>
</a>
</li>
</ul>
</div>
<div class="footer-column footer-column--right">
<article class="c-footer__article" data-animation-set='{"opacity":"0", "y":"50%", "skewY":"-2.5deg"}' data-animation='{"opacity":"1", "y":"0%", "skewY":"0deg", "ease":"Expo.easeOut"}' data-animation-duration="1.2" data-animation-trigger="0.85">
<a class="u-b4 c-footer__gmaps" target="_blank" href="https://www.google.com/maps/place/Bornfight/@45.8145899,15.9437216,17z/data=!3m1!4b1!4m5!3m4!1s0x4765d72523db7c8f:0xeb98cddf4bbe35cc!8m2!3d45.8145899!4d15.9459103">
Bornfight <br />
Vukasovićeva 1,<br />
10000 Zagreb,<br />
Croatia </a>
<ul class="c-contact-info">
<li class="c-contact-info__item">
<span class="u-b6">
t:
</span>
<a class="c-button c-button--small" href="tel: +385 1 3333 710">
<span>
+385 1 3333 710 </span>
</a>
</li>
<li class="c-contact-info__item">
<span class="u-b6">
m:
</span>
<a class="c-button c-button--text c-button--bordered c-button--small" href="mailto: hello@bornfight.com">
<span>hello@bornfight.com</span>
</a>
</li>
</ul>
</article>
<ul class="c-footer-links" data-animation-set='{"opacity":"0", "y":"50%", "skewY":"-2.5deg"}' data-animation='{"opacity":"1", "y":"0%", "skewY":"0deg", "ease":"Expo.easeOut"}' data-animation-duration="1.2" data-animation-trigger="0.85">
<li class="c-footer-links__item">
<a target="_blank" href="https://www.facebook.com/Bornfight.company/" class="c-button c-button--text c-button--small c-button--bordered">
<span>
Facebook </span>
</a>
</li>
<li class="c-footer-links__item">
<a target="_blank" href="https://twitter.com/Bornfight_" class="c-button c-button--text c-button--small c-button--bordered">
<span>
 Twitter </span>
</a>
</li>
<li class="c-footer-links__item">
<a target="_blank" href="https://www.instagram.com/bornfight" class="c-button c-button--text c-button--small c-button--bordered">
<span>
Instagram </span>
</a>
</li>
<li class="c-footer-links__item">
<a target="_blank" href="https://www.linkedin.com/company/bornfight/" class="c-button c-button--text c-button--small c-button--bordered">
<span>
LinkedIn </span>
</a>
</li>
<li class="c-footer-links__item">
<a target="_blank" href="https://dribbble.com/Bornfight" class="c-button c-button--text c-button--small c-button--bordered">
<span>
Dribbble </span>
</a>
</li>
</ul>
</div>
</div>
<div class="c-footer__bar">
<div class="footer-column footer-column--left" data-animation-set='{"opacity":"0", "y":"50%", "skewY":"-2.5deg"}' data-animation='{"opacity":"1", "y":"0%", "skewY":"0deg", "ease":"Expo.easeOut"}' data-animation-duration="1.2" data-animation-trigger="1">
<p class="u-b4">© Bornfight. All rights reserved 2020</p>
</div>
<div class="footer-column footer-column--right" data-animation-set='{"opacity":"0", "y":"50%", "skewY":"-2.5deg"}' data-animation='{"opacity":"1", "y":"0%", "skewY":"0deg", "ease":"Expo.easeOut"}' data-animation-duration="1.2" data-animation-trigger="1">
<a href="../../privacy-policy/index.html" class="c-button c-button--text c-button--small c-button--bordered">
<span>Privacy Policy</span>
</a>
</div>
</div>
</div>
</footer>
</div>
</div>
</div>
</div>
<script type="text/javascript">
  _nQc = '89230795';
  _nQs = 'WordPress-Plugin';
  _nQsv = '1.3.1';
  _nQt = new Date().getTime();
  (function() {
    var no = document.createElement('script'); no.type = 'text/javascript'; no.async = true;
    no.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'serve.albacross.com/track.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(no, s);
  })();
</script>
<script type="text/javascript">
var $buoop = {required:{e:-3,f:-3,o:-3,s:-3,c:-3},test:false,newwindow:true,style:"top",insecure:true,unsupported:true,mobile:true,shift_page_down:true,api:2020.03};

function $buo_f(){
var e = document.createElement("script");
e.src = "http://browser-update.org/update.min.js";
document.body.appendChild(e);
};
try {document.addEventListener("DOMContentLoaded", $buo_f, false)}
catch(e){window.attachEvent("onload", $buo_f)}
</script><script src="../../wp-content/cache/minify/e054edc0a.js?x22406"></script>
<script type='text/javascript'>
/* <![CDATA[ */
var restUrl = {"application":"https:\/\/www.bornfight.com\/wp-json\/api\/v1\/application\/"};
var backendVariables = {"positions":{"full_time":{"Strategic_Partnerships":[{"name":"Strategic Partnerships Team Lead","category":"Strategic_Partnerships","type":"full_time"},{"name":"Strategic Partnerships Manager","category":"Strategic_Partnerships","type":"full_time"},{"name":"Strategic Partnerships Executive","category":"Strategic_Partnerships","type":"full_time"},{"name":"Strategic Partnerships Assistant","category":"Strategic_Partnerships","type":"full_time"},{"name":"Business Development Representative","category":"Strategic_Partnerships","type":"full_time"},{"name":"Junior Business Development Representative","category":"Strategic_Partnerships","type":"full_time"}],"Design":[{"name":"Digital Design Team Lead","category":"Design","type":"full_time"},{"name":"Interactive Art Director","category":"Design","type":"full_time"},{"name":"Senior Digital Designer","category":"Design","type":"full_time"},{"name":"Digital Designer","category":"Design","type":"full_time"},{"name":"Junior Digital Designer","category":"Design","type":"full_time"}],"Front-end_Development":[{"name":"Front-end Development Team Lead","category":"Front-end_Development","type":"full_time"},{"name":"Senior Front-end Developer","category":"Front-end_Development","type":"full_time"},{"name":"Front-end Developer","category":"Front-end_Development","type":"full_time"},{"name":"Junior Front-end Developer","category":"Front-end_Development","type":"full_time"},{"name":"WordPress Engineer","category":"Front-end_Development","type":"full_time"},{"name":"Junior WordPress Engineer","category":"Front-end_Development","type":"full_time"}],"Software_Development":[{"name":"Software Development Team Lead","category":"Software_Development","type":"full_time"},{"name":"Senior Software Developer","category":"Software_Development","type":"full_time"},{"name":"Software Developer","category":"Software_Development","type":"full_time"},{"name":"Junior Software Developer","category":"Software_Development","type":"full_time"}],"Mobile_Development":[{"name":"Android Development Team Lead","category":"Mobile_Development","type":"full_time"},{"name":"Senior Android Developer","category":"Mobile_Development","type":"full_time"},{"name":"Android Developer","category":"Mobile_Development","type":"full_time"},{"name":"Junior Android Developer","category":"Mobile_Development","type":"full_time"},{"name":"iOS Development Team Lead","category":"Mobile_Development","type":"full_time"},{"name":"Senior iOS Developer","category":"Mobile_Development","type":"full_time"},{"name":"iOS Developer","category":"Mobile_Development","type":"full_time"},{"name":"Junior iOS Developer","category":"Mobile_Development","type":"full_time"}],"Quality_Assurance":[{"name":"Senior Software Developer In Test","category":"Quality_Assurance","type":"full_time"},{"name":"Software Developer In Test","category":"Quality_Assurance","type":"full_time"},{"name":"Junior Software Developer In Test","category":"Quality_Assurance","type":"full_time"},{"name":"Senior Software Tester","category":"Quality_Assurance","type":"full_time"},{"name":"Software Tester","category":"Quality_Assurance","type":"full_time"},{"name":"Junior Software Tester","category":"Quality_Assurance","type":"full_time"}],"Project_Management":[{"name":"Project Management Team Lead","category":"Project_Management","type":"full_time"},{"name":"Senior Project Manager","category":"Project_Management","type":"full_time"},{"name":"Project Manager","category":"Project_Management","type":"full_time"},{"name":"Junior Project Manager","category":"Project_Management","type":"full_time"}],"System_Administration":[{"name":"IT Administrator","category":"System_Administration","type":"full_time"},{"name":"Junior IT Administrator","category":"System_Administration","type":"full_time"}],"Finance_&_Office_Management":[{"name":"Finance Manager","category":"Finance_&_Office_Management","type":"full_time"},{"name":"Finance Assistant","category":"Finance_&_Office_Management","type":"full_time"},{"name":"Accountant","category":"Finance_&_Office_Management","type":"full_time"},{"name":"Junior Accountant","category":"Finance_&_Office_Management","type":"full_time"},{"name":"Office Manager","category":"Finance_&_Office_Management","type":"full_time"},{"name":"Office Assistant","category":"Finance_&_Office_Management","type":"full_time"}],"Human_Resources":[{"name":"Human Resources Manager","category":"Human_Resources","type":"full_time"},{"name":"Human Resources Specialist","category":"Human_Resources","type":"full_time"},{"name":"Human Resources Associate","category":"Human_Resources","type":"full_time"},{"name":"Human Resources Assistant","category":"Human_Resources","type":"full_time"}],"Marketing_&_PR":[{"name":"Marketing & PR Manager","category":"Marketing_&_PR","type":"full_time"},{"name":"Marketing & PR Assistant","category":"Marketing_&_PR","type":"full_time"},{"name":"Content Creator","category":"Marketing_&_PR","type":"full_time"}]},"student_job":{"Strategic_Partnerships":[{"name":"Strategic Partnerships Assistant","category":"Strategic_Partnerships","type":"student_job"}],"Design":[{"name":"Junior Digital Designer","category":"Design","type":"student_job"}],"Front-end_Development":[{"name":"Junior Front-end Developer","category":"Front-end_Development","type":"student_job"}],"Software_Development":[{"name":"Junior Software Developer","category":"Software_Development","type":"student_job"}],"Mobile_Development":[{"name":"Junior Android Developer","category":"Mobile_Development","type":"student_job"},{"name":"Junior iOS Developer","category":"Mobile_Development","type":"student_job"}],"Quality_Assurance":[{"name":"Junior Software Developer In Test","category":"Quality_Assurance","type":"student_job"},{"name":"Junior Software Tester","category":"Quality_Assurance","type":"student_job"}],"Project_Management":[{"name":"Junior Project Manager","category":"Project_Management","type":"student_job"}],"Finance_&_Office_Management":[{"name":"Finance Assistant","category":"Finance_&_Office_Management","type":"student_job"}]}}};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/a9b30dc0a.js?x22406"></script>
<script type='text/javascript'>
/* <![CDATA[ */
var wpcf7 = {"apiSettings":{"root":"https:\/\/www.bornfight.com\/wp-json\/contact-form-7\/v1","namespace":"contact-form-7\/v1"},"cached":"1"};
/* ]]> */
</script>
<script src="../../wp-content/cache/minify/0fef6dc0a.js?x22406"></script>
<script type='text/javascript' src='https://www.google.com/recaptcha/api.js?render=6LffF58UAAAAAEnSqRM4ycJxYdL9hvLRI_5qXPdA&amp;ver=3.0'></script>
<script src="../../wp-content/cache/minify/13d7ddc0a.js?x22406"></script>
<script type="text/javascript">
( function( grecaptcha, sitekey, actions ) {

	var wpcf7recaptcha = {

		execute: function( action ) {
			grecaptcha.execute(
				sitekey,
				{ action: action }
			).then( function( token ) {
				var forms = document.getElementsByTagName( 'form' );

				for ( var i = 0; i < forms.length; i++ ) {
					var fields = forms[ i ].getElementsByTagName( 'input' );

					for ( var j = 0; j < fields.length; j++ ) {
						var field = fields[ j ];

						if ( 'g-recaptcha-response' === field.getAttribute( 'name' ) ) {
							field.setAttribute( 'value', token );
							break;
						}
					}
				}
			} );
		},

		executeOnHomepage: function() {
			wpcf7recaptcha.execute( actions[ 'homepage' ] );
		},

		executeOnContactform: function() {
			wpcf7recaptcha.execute( actions[ 'contactform' ] );
		},

	};

	grecaptcha.ready(
		wpcf7recaptcha.executeOnHomepage
	);

	document.addEventListener( 'change',
		wpcf7recaptcha.executeOnContactform, false
	);

	document.addEventListener( 'wpcf7submit',
		wpcf7recaptcha.executeOnHomepage, false
	);

} )(
	grecaptcha,
	'6LffF58UAAAAAEnSqRM4ycJxYdL9hvLRI_5qXPdA',
	{"homepage":"homepage","contactform":"contactform"}
);
</script>

<script type="text/javascript" id="hs-script-loader" async defer src="http://js.hs-scripts.com/7022902.js"></script>

</body>

<!-- Mirrored from www.bornfight.com/blog/working-with-mvvm-choosing-the-right-android-architecture/ by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 06 May 2020 13:21:39 GMT -->
</html>
